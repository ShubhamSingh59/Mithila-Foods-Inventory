/* src/App.css */

/* ========= APP LAYOUT SHELL ========= */
.app-shell {
  display: grid;
  /* Variable width: 250px open, 64px collapsed */
  grid-template-columns: var(--sidebar-width, 250px) minmax(0, 1fr);
  height: 100vh;
  background: #f3f4f6;
  color: #111827;
  transition: grid-template-columns 0.3s ease;
  overflow: hidden;
}

/* ========= SIDEBAR ========= */
.app-sidebar {
  background: #111827;
  color: #f3f4f6;
  display: flex;
  flex-direction: column;
  border-right: 1px solid rgba(255, 255, 255, 0.08);
  overflow-x: hidden;
  white-space: nowrap;
  transition: width 0.3s ease;
}

/* Header Area */
.app-sidebar-header {
  display: flex;
  align-items: center;
  /* Use 'space-between' to push button to the right */
  justify-content: space-between; 
  padding: 12px 14px;
  min-height: 60px; /* Fixed height to prevent jumping */
}

/* Logo Circle */
.app-logo-circle {
  width: 32px;
  height: 32px;
  border-radius: 8px;
  background: rgba(255, 255, 255, 0.1);
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  color: #ffffff;
  font-size: 1rem;
  flex-shrink: 0;
}

/* Text Container */
.app-logo-text {
  display: flex;
  flex-direction: column;
  gap: 2px;
  margin-left: 10px;
  opacity: 1;
  transition: opacity 0.2s, width 0.2s;
  overflow: hidden;
}

.app-logo-title {
  font-size: 0.9rem;
  font-weight: 600;
}

.app-logo-subtitle {
  font-size: 0.75rem;
  color: rgba(243, 244, 246, 0.6);
}

/* Toggle Button */
.sidebar-toggle-btn {
  background: transparent;
  border: 1px solid rgba(255,255,255,0.15);
  color: rgba(255,255,255,0.7);
  border-radius: 6px;
  cursor: pointer;
  width: 28px;
  height: 28px;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s;
  flex-shrink: 0; /* Prevent button from squishing */
}
.sidebar-toggle-btn:hover {
  background: rgba(255,255,255,0.1);
  color: white;
  border-color: rgba(255,255,255,0.3);
}

/* ========= COLLAPSED STATE FIXES ========= */
.app-sidebar.collapsed .app-logo-text {
  display: none; /* Completely remove text space */
}

.app-sidebar.collapsed .app-sidebar-header {
  /* When collapsed, center the items vertically */
  justify-content: center; 
  padding: 12px 0;
  flex-direction: column; /* Stack logo and button if needed, or keep row */
  gap: 12px; 
}

/* Hide the logo circle when collapsed to make room for the button? 
   OR just show the button. Let's show both stacked or just the button.
   Let's keep logo but hide text. */
.app-sidebar.collapsed .app-logo-circle {
  display: none; /* Hide logo in collapsed mode to save space, show button only */
  /* OR keep logo and hide button? Usually we want the button visible to expand. */
}

/* Ensure button is visible and centered when collapsed */
.app-sidebar.collapsed .sidebar-toggle-btn {
  margin: 0;
}

/* ========= NAVIGATION ========= */
.app-nav {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 12px;
  margin-top: 10px;
  overflow-y: auto;
  padding: 0 10px;
}
.app-nav::-webkit-scrollbar { display: none; }

.app-nav-group {
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.app-nav-group-label {
  font-size: 0.7rem;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: rgba(243, 244, 246, 0.4);
  padding: 0 8px;
  margin-bottom: 4px;
  white-space: nowrap;
}

.app-nav-link {
  width: 100%;
  border: 1px solid transparent;
  outline: none;
  cursor: pointer;
  border-radius: 8px;
  padding: 8px 10px;
  background: transparent;
  color: rgba(243, 244, 246, 0.85);
  font-size: 0.85rem;
  display: flex;
  align-items: center;
  gap: 12px;
  text-decoration: none; /* Removes underline */
  transition: all 0.15s ease;
}

.app-nav-link:hover {
  background: rgba(255, 255, 255, 0.05);
  color: #ffffff;
}

.app-nav-link.active {
  background: rgba(255, 255, 255, 0.1);
  color: #ffffff;
  font-weight: 500;
}

.app-nav-icon {
  flex-shrink: 0;
  opacity: 0.7;
}

.app-nav-link.active .app-nav-icon {
  opacity: 1;
  color: #60a5fa;
}

/* Collapsed Nav */
.app-sidebar.collapsed .app-nav-group-label {
  display: none;
}
.app-sidebar.collapsed .app-nav-link {
  justify-content: center;
  padding: 10px;
}
.app-sidebar.collapsed .app-nav-link span {
  display: none; /* Hide text */
}

/* Footer */
.app-sidebar-footer {
  padding: 14px;
  border-top: 1px solid rgba(255, 255, 255, 0.08);
  display: flex;
  flex-direction: column;
  gap: 6px;
}
.app-sidebar.collapsed .app-sidebar-footer { display: none; }

.app-sidebar-footer-label {
  font-size: 0.75rem;
  color: rgba(243, 244, 246, 0.5);
}

.app-sidebar-footer-badge {
  display: inline-flex;
  align-items: center;
  border-radius: 6px;
  padding: 4px 8px;
  background: rgba(255, 255, 255, 0.05);
  color: rgba(243, 244, 246, 0.9);
  font-size: 0.75rem;
  width: fit-content;
}

/* ========= MAIN AREA ========= */
.app-main {
  padding: 0;
  overflow-y: auto;
  height: 100vh;
  position: relative;
}

/* Inner wrapper for fade animation */
.app-main-inner {
  width: 100%;
  margin: 0;
  padding: 16px;
  animation: fadeIn 0.2s ease-in-out;
}

@keyframes fadeIn {
  from { opacity: 0.96; transform: translateY(2px); }
  to { opacity: 1; transform: translateY(0); }
}